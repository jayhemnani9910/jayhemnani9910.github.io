<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jay Hemnani | Data Systems Architect & Analytics Engineer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --glow-color: rgb(59 130 246);
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000000;
            color: #e2e8f0;
            overflow-x: hidden;
        }
        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.4;
        }
        .cursor-dot {
            width: 8px;
            height: 8px;
            background-color: white;
            border-radius: 50%;
            position: fixed;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 9999;
            transition: width 0.3s, height 0.3s;
        }
        .cursor-outline {
            width: 40px;
            height: 40px;
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            position: fixed;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 9999;
            transition: transform 0.2s ease-out, opacity 0.3s;
        }
        .cursor-outline.hovered {
            transform: translate(-50%, -50%) scale(1.5);
            opacity: 0;
        }
        .glass-header {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        .nav-link {
            position: relative;
            transition: color 0.3s;
        }
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -6px;
            left: 50%;
            background-color: var(--glow-color);
            transition: width 0.3s ease-in-out, left 0.3s ease-in-out;
            box-shadow: 0 0 10px var(--glow-color);
        }
        .nav-link:hover::after {
            width: 100%;
            left: 0;
        }
        .section-reveal {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .section-reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .project-card {
            background: rgba(17, 24, 39, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transform-style: preserve-3d;
            transition: transform 0.4s, box-shadow 0.4s;
        }
        .project-card:hover {
            transform: translateY(-10px) scale(1.03);
            box-shadow: 0 0 25px rgba(59, 130, 246, 0.4), 0 0 10px rgba(59, 130, 246, 0.3);
            border-color: rgba(59, 130, 246, 0.5);
        }
        .tech-tag {
            background-color: rgba(59, 130, 246, 0.15);
            color: #93c5fd;
            border: 1px solid rgba(59, 130, 246, 0.3);
            transition: background-color 0.3s, color 0.3s;
        }
        .project-card:hover .tech-tag {
             background-color: rgba(59, 130, 246, 0.3);
        }
        .glow-button {
            position: relative;
            overflow: hidden;
            transition: color 0.4s, background-color 0.4s, box-shadow 0.4s;
        }
        .glow-button:hover {
            box-shadow: 0 0 20px var(--glow-color);
        }
        .hero-title span {
            display: inline-block;
            opacity: 0;
            animation: fadeIn 0.5s forwards;
        }
        @keyframes fadeIn {
            to { opacity: 1; }
        }
        .skill-card {
            background: rgba(17, 24, 39, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .skill-card:hover {
             transform: translateY(-5px);
             box-shadow: 0 0 15px rgba(59, 130, 246, 0.3);
             border-color: rgba(59, 130, 246, 0.4);
        }
        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }
        .modal-overlay.visible {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            background: rgba(10, 10, 10, 0.8);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            max-width: 600px;
            width: 90%;
            padding: 2rem;
            border-radius: 1rem;
            transform: scale(0.95);
            transition: transform 0.3s;
        }
        .modal-overlay.visible .modal-content {
            transform: scale(1);
        }
        /* Spinner */
        .loader {
            border: 4px solid #374151;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 2rem auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="antialiased">

    <div class="cursor-dot"></div>
    <div class="cursor-outline"></div>

    <canvas id="bg-canvas"></canvas>

    <!-- Header & Navigation -->
    <header class="fixed top-0 left-0 right-0 z-50 glass-header">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold tracking-tighter text-white hover-target">JH</a>
            <nav class="hidden md:flex space-x-8">
                <a href="#about" class="nav-link text-slate-300 hover:text-white hover-target">About</a>
                <a href="#projects" class="nav-link text-slate-300 hover:text-white hover-target">Projects</a>
                <a href="#writings" class="nav-link text-slate-300 hover:text-white hover-target">Writings</a>
                <a href="#skills" class="nav-link text-slate-300 hover:text-white hover-target">Skills</a>
                <a href="#contact" class="nav-link text-slate-300 hover:text-white hover-target">Contact</a>
            </nav>
            <button id="mobile-menu-button" class="md:hidden text-white hover-target">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
            <a href="#about" class="block py-2 text-slate-300 hover:text-white">About</a>
            <a href="#projects" class="block py-2 text-slate-300 hover:text-white">Projects</a>
            <a href="#writings" class="block py-2 text-slate-300 hover:text-white">Writings</a>
            <a href="#skills" class="block py-2 text-slate-300 hover:text-white">Skills</a>
            <a href="#contact" class="block py-2 text-slate-300 hover:text-white">Contact</a>
        </div>
    </header>

    <main class="container mx-auto px-6 pt-24 relative z-10">

        <!-- Hero Section -->
        <section id="hero" class="min-h-screen flex flex-col justify-center items-start text-left">
            <div class="max-w-4xl">
                <h1 class="hero-title text-5xl md:text-7xl font-black tracking-tighter text-white leading-tight mb-4">
                    Jay Hemnani
                </h1>
                <h2 class="text-2xl md:text-3xl font-semibold text-blue-400 mb-6" style="animation-delay: 0.5s;">
                    Data Systems Architect & Analytics Engineer
                </h2>
                <p class="max-w-3xl text-slate-400 text-lg leading-relaxed" style="animation-delay: 0.8s;">
                    I architect and build scalable, end-to-end data systems that transform complex datasets into strategic assets. My methodology combines rigorous quantitative analysis with advanced computational techniques to drive data-centric innovation.
                </p>
                <div class="mt-8 flex gap-4" style="animation-delay: 1.1s;">
                    <a href="#projects" class="glow-button bg-blue-600 text-white font-semibold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors hover-target">View My Work</a>
                    <a href="https://github.com/jayhemnani9910" target="_blank" class="glow-button bg-gray-800 text-white font-semibold py-3 px-6 rounded-lg hover:bg-gray-700 transition-colors hover-target">GitHub Profile</a>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="py-24 section-reveal">
            <h2 class="text-4xl font-bold text-center mb-16 tracking-tight">Analytical Philosophy</h2>
            <div class="grid md:grid-cols-5 gap-12 items-center">
                <div class="md:col-span-3 space-y-6">
                    <p class="text-slate-300 leading-relaxed text-lg">
                        My core philosophy revolves around systematic problem decomposition and first-principles thinking. I architect data solutions by transforming ambiguous, high-volume information streams into structured, queryable systems. My graduate studies are focused on advanced data warehousing, distributed data pipelines, and the application of discrete mathematics to data science.
                    </p>
                    <p class="text-slate-300 leading-relaxed text-lg">
                        This analytical mindset extends beyond my professional work. I apply statistical modeling to football analytics, deconstructing team strategies into quantifiable metrics. From designing high-throughput data ingestion systems to optimizing complex strategies in competitive simulations, my work is unified by a commitment to high-fidelity execution and iterative performance enhancement.
                    </p>
                </div>
                <div class="md:col-span-2">
                    <div class="project-card p-8 rounded-xl space-y-4">
                         <div class="flex items-start">
                            <span class="text-blue-400 mr-4 mt-1 text-2xl">⚽</span>
                            <div><strong class="text-white">Quantitative Analysis:</strong> Applying statistical modeling (xG) to La Liga tactical evaluation.</div>
                        </div>
                        <div class="flex items-start">
                            <span class="text-blue-400 mr-4 mt-1 text-2xl">🧠</span>
                            <div><strong class="text-white">Cognitive Frameworks:</strong> Utilizing logical deduction for complex problem-solving.</div>
                        </div>
                        <div class="flex items-start">
                            <span class="text-blue-400 mr-4 mt-1 text-2xl">💪</span>
                             <div><strong class="text-white">Peak Conditioning:</strong> Pursuing disciplined strength and endurance training.</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="py-24 section-reveal">
            <h2 class="text-4xl font-bold text-center mb-16 tracking-tight">Core Projects</h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Project Card 1 -->
                <div class="project-card p-6 rounded-xl flex flex-col hover-target">
                    <h3 class="text-xl font-bold text-white mb-2 project-title">Stock Market Data Platform</h3>
                    <p class="text-slate-400 text-sm mb-4 flex-grow project-summary">Architected a scalable, hybrid (stream/batch) data platform to unify market feeds and news sentiment for immediate, actionable market insights.</p>
                    <div class="flex flex-wrap gap-2 mt-auto">
                        <span class="tech-tag text-xs font-medium px-2 py-1 rounded-full">Kafka</span>
                        <span class="tech-tag text-xs font-medium px-2 py-1 rounded-full">Airflow</span>
                        <span class="tech-tag text-xs font-medium px-2 py-1 rounded-full">TimescaleDB</span>
                        <span class="tech-tag text-xs font-medium px-2 py-1 rounded-full">Docker</span>
                    </div>
                    <button class="expand-details-btn mt-4 text-blue-400 font-semibold text-sm self-start hover:text-blue-300 transition-colors hover-target">✨ Expand Details</button>
                </div>
                <!-- Project Card 2 -->
                <div class="project-card p-6 rounded-xl flex flex-col hover-target">
                    <h3 class="text-xl font-bold text-white mb-2 project-title">BarçaBrain Analytics</h3>
                    <p class="text-slate-400 text-sm mb-4 flex-grow project-summary">Developed an AI-powered analytics tool using LangChain and local LLMs to enable natural language querying of complex football data for rapid tactical analysis.</p>
                    <div class="flex flex-wrap gap-2 mt-auto">
                        <span class="tech-tag text-xs font-medium px-2 py-1 rounded-full">LangChain</span>
                        <span class="tech-tag text-xs font-medium px-2 py-1 rounded-full">Streamlit</span>
                        <span class="tech-tag text-xs font-medium px-2 py-1 rounded-full">MongoDB</span>
                        <span class="tech-tag text-xs font-medium px-2 py-1 rounded-full">Ollama</span>
                    </div>
                    <button class="expand-details-btn mt-4 text-blue-400 font-semibold text-sm self-start hover:text-blue-300 transition-colors hover-target">✨ Expand Details</button>
                </div>
                <!-- Project Card 3 -->
                <div class="project-card p-6 rounded-xl flex flex-col hover-target">
                    <h3 class="text-xl font-bold text-white mb-2 project-title">CinematiLink</h3>
                    <p class="text-slate-400 text-sm mb-4 flex-grow project-summary">Implemented a dual-database system (MongoDB & Neo4j) to map and analyze complex relationships in the film industry, revealing hidden cinematic patterns.</p>
                    <div class="flex flex-wrap gap-2 mt-auto">
                        <span class="tech-tag text-xs font-medium px-2 py-1 rounded-full">MongoDB</span>
                        <span class="tech-tag text-xs font-medium px-2 py-1 rounded-full">Neo4j</span>
                        <span class="tech-tag text-xs font-medium px-2 py-1 rounded-full">Pymongo</span>
                        <span class="tech-tag text-xs font-medium px-2 py-1 rounded-full">Cypher</span>
                    </div>
                    <button class="expand-details-btn mt-4 text-blue-400 font-semibold text-sm self-start hover:text-blue-300 transition-colors hover-target">✨ Expand Details</button>
                </div>
            </div>
        </section>

        <!-- Writings Section -->
        <section id="writings" class="py-24 section-reveal">
            <h2 class="text-4xl font-bold text-center mb-12 tracking-tight">Case Studies & Technical Writings</h2>
            <div class="max-w-2xl mx-auto text-center">
                <p class="text-slate-400 text-lg">
                    In-depth project analyses, architectural deep-dives, and explorations of data engineering concepts are currently being drafted. Please check back soon for detailed articles.
                </p>
            </div>
        </section>

        <!-- Skills Section -->
        <section id="skills" class="py-24 section-reveal">
            <h2 class="text-4xl font-bold text-center mb-16 tracking-tight">Technical Proficiency</h2>
            <div class="max-w-5xl mx-auto">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                    <div class="skill-card p-6 rounded-xl hover-target">
                        <h3 class="text-lg font-semibold text-white mb-4">Data Engineering & Warehousing</h3>
                        <ul class="text-slate-400 space-y-2">
                            <li>Apache Kafka</li>
                            <li>Apache Airflow</li>
                            <li>Apache Spark (PySpark)</li>
                            <li>PostgreSQL & TimescaleDB</li>
                            <li>MongoDB & Neo4j</li>
                            <li>Dimensional Modeling</li>
                        </ul>
                    </div>
                    <div class="skill-card p-6 rounded-xl hover-target">
                        <h3 class="text-lg font-semibold text-white mb-4">Cloud & DevOps</h3>
                        <ul class="text-slate-400 space-y-2">
                            <li>Docker & Kubernetes</li>
                            <li>GCP, AWS, Azure</li>
                            <li>CI/CD Pipelines</li>
                            <li>Infrastructure as Code (IaC)</li>
                            <li>Monitoring & Alerting</li>
                        </ul>
                    </div>
                    <div class="skill-card p-6 rounded-xl hover-target">
                        <h3 class="text-lg font-semibold text-white mb-4">Languages & Data Science</h3>
                        <ul class="text-slate-400 space-y-2">
                            <li>Python</li>
                            <li>Java</li>
                            <li>SQL</li>
                            <li>Go & Swift</li>
                            <li>LangChain & LLMs</li>
                            <li>Streamlit & Dash</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

    </main>
    
    <!-- Footer -->
    <footer id="contact" class="border-t border-slate-800 mt-20 relative z-10">
        <div class="container mx-auto px-6 py-16 text-center">
            <h3 class="text-4xl font-bold mb-4">Engage & Collaborate</h3>
            <p class="text-slate-400 max-w-lg mx-auto mb-8 text-lg">
                I am actively seeking opportunities to collaborate on challenging data projects. Let's connect and build something impactful.
            </p>
            <div class="flex justify-center space-x-6 mb-8">
                <a href="mailto:jayhemnani10@gmail.com" class="text-slate-400 hover:text-blue-500 transition-transform hover:scale-110 hover-target">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M.05 3.555A2 2 0 0 1 2 2h20a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v14.005A2 2 0 0 0 2 20h20a2 2 0 0 0 2-1.298V4.697L12 11.85 0 4.697Z" clip-rule="evenodd"/></svg>
                </a>
                <a href="https://www.linkedin.com/" target="_blank" class="text-slate-400 hover:text-blue-500 transition-transform hover:scale-110 hover-target">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" clip-rule="evenodd"/></svg>
                </a>
                <a href="https://github.com/jayhemnani9910" target="_blank" class="text-slate-400 hover:text-blue-500 transition-transform hover:scale-110 hover-target">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.49.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0 1 12 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.65.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.578.688.482A10.001 10.001 0 0 0 22 12c0-5.523-4.477-10-10-10Z" clip-rule="evenodd"/></svg>
                </a>
            </div>
            <p class="text-sm text-slate-500">Designed & Built by Jay Hemnani</p>
        </div>
    </footer>

    <!-- Project Details Modal -->
    <div id="project-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modal-title" class="text-2xl font-bold text-white"></h3>
                <button id="modal-close-btn" class="text-slate-400 hover:text-white text-3xl hover-target">&times;</button>
            </div>
            <div id="modal-body" class="text-slate-300 leading-relaxed">
                <!-- Content will be injected here by JS -->
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- 3D Animated Background ---
            let scene, camera, renderer, stars;
            
            function init3DBackground() {
                scene = new THREE.Scene();
                camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 1, 1000);
                camera.position.z = 1;
                
                renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('bg-canvas'), alpha: true });
                renderer.setSize(window.innerWidth, window.innerHeight);

                const starGeo = new THREE.BufferGeometry();
                const starCount = 6000;
                const positions = new Float32Array(starCount * 3);
                for(let i = 0; i < starCount * 3; i++) {
                    positions[i] = (Math.random() - 0.5) * 800;
                }
                starGeo.setAttribute('position', new THREE.BufferAttribute(positions, 3));

                let sprite = new THREE.TextureLoader().load('https://placehold.co/16x16/ffffff/ffffff.png');
                let starMaterial = new THREE.PointsMaterial({
                    color: 0xaaaaaa,
                    size: 0.7,
                    map: sprite
                });

                stars = new THREE.Points(starGeo, starMaterial);
                scene.add(stars);

                window.addEventListener('resize', onWindowResize, false);
                animate();
            }

            function animate() {
                stars.rotation.y += 0.0001;
                renderer.render(scene, camera);
                requestAnimationFrame(animate);
            }

            function onWindowResize() {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            }

            init3DBackground();

            // --- Custom Cursor ---
            const cursorDot = document.querySelector('.cursor-dot');
            const cursorOutline = document.querySelector('.cursor-outline');
            
            window.addEventListener('mousemove', (e) => {
                const posX = e.clientX;
                const posY = e.clientY;

                cursorDot.style.left = `${posX}px`;
                cursorDot.style.top = `${posY}px`;

                cursorOutline.animate({
                    left: `${posX}px`,
                    top: `${posY}px`
                }, { duration: 500, fill: "forwards" });
            });

            document.querySelectorAll('.hover-target').forEach(el => {
                el.addEventListener('mouseover', () => cursorOutline.classList.add('hovered'));
                el.addEventListener('mouseout', () => cursorOutline.classList.remove('hovered'));
            });

            // --- Hero Text Animation ---
            const heroTitle = document.querySelector('.hero-title');
            const text = heroTitle.textContent.trim();
            heroTitle.innerHTML = '';
            text.split('').forEach((char, index) => {
                const span = document.createElement('span');
                span.textContent = char === ' ' ? '\u00A0' : char;
                span.style.animationDelay = `${index * 0.05}s`;
                heroTitle.appendChild(span);
            });
            
            // --- Mobile menu toggle ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            // --- Scroll reveal animation ---
            const sections = document.querySelectorAll('.section-reveal');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            sections.forEach(section => observer.observe(section));

            // --- Gemini API Integration for Project Details ---
            const expandButtons = document.querySelectorAll('.expand-details-btn');
            const modal = document.getElementById('project-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');
            const modalCloseBtn = document.getElementById('modal-close-btn');

            async function callGeminiWithBackoff(prompt, maxRetries = 3) {
                let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                const payload = { contents: chatHistory };
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
                
                for (let i = 0; i < maxRetries; i++) {
                    try {
                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });
                        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                        const result = await response.json();
                        if (result.candidates?.[0]?.content?.parts?.[0]?.text) {
                            return result.candidates[0].content.parts[0].text;
                        } else {
                            throw new Error("Invalid API response structure");
                        }
                    } catch (error) {
                        console.error(`Attempt ${i + 1} failed:`, error);
                        if (i === maxRetries - 1) return "Details could not be fetched at this moment. Please try again later.";
                        await new Promise(res => setTimeout(res, Math.pow(2, i) * 1000));
                    }
                }
            }

            expandButtons.forEach(button => {
                button.addEventListener('click', async (e) => {
                    const card = e.target.closest('.project-card');
                    const title = card.querySelector('.project-title').innerText;
                    const summary = card.querySelector('.project-summary').innerText;

                    modalTitle.innerText = title;
                    modalBody.innerHTML = '<div class="loader"></div>';
                    modal.classList.add('visible');

                    const prompt = `You are a senior data architect and technical writer. Your tone is highly technical, professional, and objective. Expand the following project summary into a detailed paragraph of about 100-150 words. Focus on the system's architecture, technical challenges (scalability, data integrity, latency), methodologies, and quantifiable impact.
                    Project Title: "${title}"
                    Summary: "${summary}"
                    Generate the detailed technical description.`;

                    const detailedDescription = await callGeminiWithBackoff(prompt);
                    modalBody.innerText = detailedDescription;
                });
            });

            function closeModal() {
                modal.classList.remove('visible');
            }
            modalCloseBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', e => {
                if (e.target === modal) closeModal();
            });
        });
    </script>
</body>
</html>
